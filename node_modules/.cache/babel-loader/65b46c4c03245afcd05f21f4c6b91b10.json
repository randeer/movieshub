{"remainingRequest":"/home/dilshani/git/movieshub/node_modules/babel-loader/lib/index.js!/home/dilshani/git/movieshub/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/dilshani/git/movieshub/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dilshani/git/movieshub/node_modules/@algoz098/vue-player/src/components/videoPlaceholder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dilshani/git/movieshub/node_modules/@algoz098/vue-player/src/components/videoPlaceholder.vue","mtime":499162500000},{"path":"/home/dilshani/git/movieshub/node_modules/cache-loader/dist/cjs.js","mtime":1587795382772},{"path":"/home/dilshani/git/movieshub/node_modules/babel-loader/lib/index.js","mtime":1587795382724},{"path":"/home/dilshani/git/movieshub/node_modules/cache-loader/dist/cjs.js","mtime":1587795382772},{"path":"/home/dilshani/git/movieshub/node_modules/vue-loader/lib/index.js","mtime":1587795384264}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGVuYWJsZUlubGluZVZpZGVvIGZyb20gJ2lwaG9uZS1pbmxpbmUtdmlkZW8nOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3ZpZGVvLXBsYWNlaG9sZGVyJywKICBwcm9wczogewogICAgc3JjOiB7CiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgcG9zdGVyOiB7CiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgcHJldmlld09uTW91c2U6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBtb3VzZW92ZXI6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbG9hZFBlcmNlbnQ6IDAKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhdFByb2dyZXNzOiBmdW5jdGlvbiBhdFByb2dyZXNzKGUpIHsKICAgICAgdmFyIHJhbmdlID0gMDsKICAgICAgdmFyIGJmID0gdGhpcy4kcmVmcy52aWRlby5idWZmZXJlZDsKICAgICAgdmFyIHRpbWUgPSB0aGlzLiRyZWZzLnZpZGVvLmN1cnJlbnRUaW1lOwoKICAgICAgd2hpbGUgKCEoYmYuc3RhcnQocmFuZ2UpIDw9IHRpbWUgJiYgdGltZSA8PSBiZi5lbmQocmFuZ2UpKSkgewogICAgICAgIHJhbmdlICs9IDE7CiAgICAgIH0KCiAgICAgIHZhciBsb2FkU3RhcnRQZXJjZW50YWdlID0gYmYuc3RhcnQocmFuZ2UpIC8gdGhpcy4kcmVmcy52aWRlby5kdXJhdGlvbjsKICAgICAgdmFyIGxvYWRFbmRQZXJjZW50YWdlID0gYmYuZW5kKHJhbmdlKSAvIHRoaXMuJHJlZnMudmlkZW8uZHVyYXRpb247CiAgICAgIHRoaXMubG9hZFBlcmNlbnQgPSAobG9hZEVuZFBlcmNlbnRhZ2UgLSBsb2FkU3RhcnRQZXJjZW50YWdlKSAqIDEwMDsKICAgICAgaWYgKHRoaXMubG9hZFBlcmNlbnQgPj0gMTAwKSB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0sCiAgICBsb2FkVmlkZW86IGZ1bmN0aW9uIGxvYWRWaWRlbyhlKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGVuYWJsZUlubGluZVZpZGVvKHRoaXMuJHJlZnMudmlkZW8sIHsKICAgICAgICBpUGFkOiB0cnVlCiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlmVmlkZW86IGZ1bmN0aW9uIGlmVmlkZW8oKSB7CiAgICAgIHZhciByZXN1bHQgPSBmYWxzZTsKCiAgICAgIGlmICh0aGlzLnByZXZpZXdPbk1vdXNlKSB7CiAgICAgICAgaWYgKHRoaXMubW91c2VvdmVyKSByZXN1bHQgPSB0cnVlOwogICAgICAgIGlmICh0aGlzLmxvYWRQZXJjZW50KSByZXN1bHQgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJlc3VsdCA9IHRydWU7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgc2hvd1ZpZGVvOiBmdW5jdGlvbiBzaG93VmlkZW8oKSB7CiAgICAgIHZhciByZXN1bHQgPSBmYWxzZTsKCiAgICAgIGlmICh0aGlzLnByZXZpZXdPbk1vdXNlKSB7CiAgICAgICAgaWYgKHRoaXMuc3JjICYmIHRoaXMubW91c2VvdmVyKSByZXN1bHQgPSB0cnVlOwogICAgICB9CgogICAgICBpZiAoIXRoaXMucHJldmlld09uTW91c2UpIHsKICAgICAgICBpZiAodGhpcy5zcmMpIHJlc3VsdCA9IHRydWU7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgc2hvd1Bvc3RlcjogZnVuY3Rpb24gc2hvd1Bvc3RlcigpIHsKICAgICAgaWYgKHRoaXMucG9zdGVyICYmICF0aGlzLnNob3dWaWRlbykgcmV0dXJuIHRydWU7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["videoPlaceholder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,OAAA,iBAAA,MAAA,qBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,mBADA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,GAAA,EAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA;AAFA,KADA;AAMA,IAAA,MAAA,EAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA;AAFA,KANA;AAWA,IAAA,cAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAXA;AAgBA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAhBA,GAHA;AAyBA,EAAA,IAzBA,kBAyBA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,WAAA,EAAA;AAFA,KAAA;AAIA,GA9BA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,CADA,EACA;AACA,UAAA,KAAA,GAAA,CAAA;AACA,UAAA,EAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,QAAA;AACA,UAAA,IAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,WAAA;;AAEA,aAAA,EAAA,EAAA,CAAA,KAAA,CAAA,KAAA,KAAA,IAAA,IAAA,IAAA,IAAA,EAAA,CAAA,GAAA,CAAA,KAAA,CAAA,CAAA,EAAA;AACA,QAAA,KAAA,IAAA,CAAA;AACA;;AAEA,UAAA,mBAAA,GAAA,EAAA,CAAA,KAAA,CAAA,KAAA,IAAA,KAAA,KAAA,CAAA,KAAA,CAAA,QAAA;AACA,UAAA,iBAAA,GAAA,EAAA,CAAA,GAAA,CAAA,KAAA,IAAA,KAAA,KAAA,CAAA,KAAA,CAAA,QAAA;AAEA,WAAA,WAAA,GAAA,CAAA,iBAAA,GAAA,mBAAA,IAAA,GAAA;AAEA,UAAA,KAAA,WAAA,IAAA,GAAA,EAAA,KAAA,OAAA,GAAA,KAAA;AACA,KAhBA;AAkBA,IAAA,SAlBA,qBAkBA,CAlBA,EAkBA;AACA,WAAA,OAAA,GAAA,IAAA;AAEA,MAAA,iBAAA,CAAA,KAAA,KAAA,CAAA,KAAA,EAAA;AACA,QAAA,IAAA,EAAA;AADA,OAAA,CAAA;AAGA;AAxBA,GAhCA;AA2DA,EAAA,QAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,UAAA,MAAA,GAAA,KAAA;;AAEA,UAAA,KAAA,cAAA,EAAA;AACA,YAAA,KAAA,SAAA,EAAA,MAAA,GAAA,IAAA;AAEA,YAAA,KAAA,WAAA,EAAA,MAAA,GAAA,IAAA;AACA,OAJA,MAIA;AACA,QAAA,MAAA,GAAA,IAAA;AACA;;AAEA,aAAA,MAAA;AACA,KAbA;AAeA,IAAA,SAfA,uBAeA;AACA,UAAA,MAAA,GAAA,KAAA;;AAEA,UAAA,KAAA,cAAA,EAAA;AACA,YAAA,KAAA,GAAA,IAAA,KAAA,SAAA,EAAA,MAAA,GAAA,IAAA;AACA;;AAEA,UAAA,CAAA,KAAA,cAAA,EAAA;AACA,YAAA,KAAA,GAAA,EAAA,MAAA,GAAA,IAAA;AACA;;AAEA,aAAA,MAAA;AACA,KA3BA;AA6BA,IAAA,UA7BA,wBA6BA;AACA,UAAA,KAAA,MAAA,IAAA,CAAA,KAAA,SAAA,EAAA,OAAA,IAAA;AAEA,aAAA,KAAA;AACA;AAjCA;AA3DA,CAAA","sourcesContent":["<template>\n<div class=\"container\">\n\t<div\n\t\tclass=\"loading-bar\"\n\t\t:style=\"{width: `${loadPercent}%`}\"\n\t\tv-if=\"loading\"\n\t/>\n\n\t<video \n\t\t:src=\"src\"\n\t\t:controls=\"false\"\n\t\tclass=\"placeholder\"\n\t\t:loop=\"true\"\n\t\tautoplay \n\t\tmuted \n\t\tplaysinline\n\t\tv-show=\"showVideo\"\n\t\tv-if=\"ifVideo\"\n\t\tref=\"video\"\n\t\t@loadstart=\"loadVideo\"\n\t\t@progress=\"atProgress\"\n\n\t/>\n\n\t<img\n\t\t:src=\"poster\"\n\t\tclass=\"placeholder\"\n\t\tv-show=\"showPoster\"\n\t/>\n</div>\n</template>\n\n<script>\nimport enableInlineVideo from 'iphone-inline-video';\n\nexport default {\n\tname: 'video-placeholder',\n\n\tprops: {\n\t\tsrc: {\n\t\t\trequired: false,\n\t\t\ttype: String\n\t\t},\n\t\t\n\t\tposter: {\n\t\t\trequired: false,\n\t\t\ttype: String\n\t\t},\n\t\t\n\t\tpreviewOnMouse: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\t\n\t\tmouseover: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t},\n\n\tdata () {\n\t\treturn {\n\t\t\tloading: false,\n\t\t\tloadPercent: 0\n\t\t}\n\t},\n\n\tmethods:{\n\t\tatProgress (e) {\n\t\t\tvar range = 0;\n\t\t\tvar bf = this.$refs.video.buffered;\n\t\t\tvar time = this.$refs.video.currentTime;\n\n\t\t\twhile(!(bf.start(range) <= time && time <= bf.end(range))) {\n\t\t\t\trange += 1;\n\t\t\t}\n\n\t\t\tvar loadStartPercentage = bf.start(range) / this.$refs.video.duration;\n\t\t\tvar loadEndPercentage = bf.end(range) / this.$refs.video.duration;\n\n\t\t\tthis.loadPercent = (loadEndPercentage - loadStartPercentage) * 100\n\n\t\t\tif (this.loadPercent >= 100) this.loading = false\n\t\t},\n\n\t\tloadVideo (e) {\n\t\t\tthis.loading = true\n\n\t\t\tenableInlineVideo(this.$refs.video, {\n\t\t\t\tiPad: true\n\t\t\t})\n\t\t},\n\t},\n\n\tcomputed: {\n\t\tifVideo () {\n\t\t\tlet result = false\n\n\t\t\tif (this.previewOnMouse) {\n\t\t\t\tif (this.mouseover) result = true\n\n\t\t\t\tif (this.loadPercent) result = true\n\t\t\t} else {\n\t\t\t\tresult = true\n\t\t\t}\n\n\t\t\treturn result\n\t\t},\n\n\t\tshowVideo () {\n\t\t\tlet result = false \n\t\t\t\n\t\t\tif (this.previewOnMouse) {\n\t\t\t\tif (this.src && this.mouseover) result = true\n\t\t\t} \n\n\t\t\tif (!this.previewOnMouse) {\n\t\t\t\tif (this.src) result = true\n\t\t\t}\n\n\t\t\treturn result\n\t\t},\n\n\t\tshowPoster () {\n\t\t\tif (this.poster && !this.showVideo) return true\n\n\t\t\treturn false\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.loading-bar {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tbackground-color: rgb(192, 192, 192);\n\theight: 3px;\n\tz-index: 10;\n}\n\ndiv.container {\n\twidth: 100%;\n\theight: 100%;\n}\n\ndiv.container,\nimg,\nvideo{\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n</style>\n"],"sourceRoot":"node_modules/@algoz098/vue-player/src/components"}]}